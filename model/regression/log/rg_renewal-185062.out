=============================================
[INFO] Job Information
---------------------------------------------
[INFO] Job Name       : rg_renewal
[INFO] Job ID         : 185062
[INFO] Submit Dir     : /home/cseomoon/appl/af_analysis-0.1.4/model/regression/scripts
[INFO] Partition      : a5000_short
[INFO] Node List      : gpu2
[INFO] Nodes          : 1
[INFO] CPUs per Task  : 24
[INFO] Memory (MB)    : 
[INFO] User           : cseomoon
[INFO] Work Dir       : /home/cseomoon/appl/af_analysis-0.1.4/model/regression/scripts
[INFO] Tasks per Node : 1
[INFO] Dependency     : 
[INFO] GPU(s)         : 
=============================================

[INFO] Job started at : Tue Apr 29 02:37:14 KST 2025
[INFO] Job allocated on node(s): gpu2
[INFO] Job running on: gpu2
[INFO] Saving results to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714
Initialized Random Forest (rf) with params: {'bootstrap': True, 'ccp_alpha': 0.0, 'criterion': 'squared_error', 'max_depth': None, 'max_features': 1.0, 'max_leaf_nodes': None, 'max_samples': None, 'min_impurity_decrease': 0.0, 'min_samples_leaf': 1, 'min_samples_split': 2, 'min_weight_fraction_leaf': 0.0, 'monotonic_cst': None, 'n_estimators': 100, 'n_jobs': -1, 'oob_score': False, 'random_state': 42, 'verbose': 0, 'warm_start': False}
Initialized LightGBM (lgbm) with params: {'boosting_type': 'gbdt', 'class_weight': None, 'colsample_bytree': 0.8, 'importance_type': 'split', 'learning_rate': 0.1, 'max_depth': -1, 'min_child_samples': 20, 'min_child_weight': 0.001, 'min_split_gain': 0.0, 'n_estimators': 100, 'n_jobs': -1, 'num_leaves': 31, 'objective': 'regression_l1', 'random_state': 42, 'reg_alpha': 0.0, 'reg_lambda': 0.0, 'subsample': 0.8, 'subsample_for_bin': 200000, 'subsample_freq': 0, 'metric': 'mae', 'verbose': -1}
Initialized XGBoost (xgb) with params: {'objective': 'reg:squarederror', 'base_score': None, 'booster': None, 'callbacks': None, 'colsample_bylevel': None, 'colsample_bynode': None, 'colsample_bytree': 0.8, 'device': None, 'early_stopping_rounds': None, 'enable_categorical': False, 'eval_metric': 'rmse', 'feature_types': None, 'feature_weights': None, 'gamma': 0, 'grow_policy': None, 'importance_type': None, 'interaction_constraints': None, 'learning_rate': 0.1, 'max_bin': None, 'max_cat_threshold': None, 'max_cat_to_onehot': None, 'max_delta_step': None, 'max_depth': 3, 'max_leaves': None, 'min_child_weight': None, 'missing': nan, 'monotone_constraints': None, 'multi_strategy': None, 'n_estimators': 100, 'n_jobs': -1, 'num_parallel_tree': None, 'random_state': 42, 'reg_alpha': 0, 'reg_lambda': 1, 'sampling_method': None, 'scale_pos_weight': None, 'subsample': 0.8, 'tree_method': 'hist', 'validate_parameters': None, 'verbosity': None}
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/run_arguments.json
Original data shape: (3650, 81)
Using 'DockQ' as the continuous target variable.
Identified 63 potential feature columns.
Checking for NaN values in potential feature columns...
Dropped 3 rows containing NaN values in one or more feature columns.
Generated 10 stratification bins from target for regression.
Processed Features (X) shape after NaN drop: (3647, 63)
Processed Target (y) shape after NaN drop: (3647,)
Processed Query IDs shape after NaN drop: (3647,)
Initialized Random Forest (rf) with params: {'bootstrap': True, 'ccp_alpha': 0.0, 'criterion': 'squared_error', 'max_depth': None, 'max_features': 1.0, 'max_leaf_nodes': None, 'max_samples': None, 'min_impurity_decrease': 0.0, 'min_samples_leaf': 1, 'min_samples_split': 2, 'min_weight_fraction_leaf': 0.0, 'monotonic_cst': None, 'n_estimators': 100, 'n_jobs': -1, 'oob_score': False, 'random_state': 42, 'verbose': 0, 'warm_start': False}
Initialized LightGBM (lgbm) with params: {'boosting_type': 'gbdt', 'class_weight': None, 'colsample_bytree': 0.8, 'importance_type': 'split', 'learning_rate': 0.1, 'max_depth': -1, 'min_child_samples': 20, 'min_child_weight': 0.001, 'min_split_gain': 0.0, 'n_estimators': 100, 'n_jobs': -1, 'num_leaves': 31, 'objective': 'regression_l1', 'random_state': 42, 'reg_alpha': 0.0, 'reg_lambda': 0.0, 'subsample': 0.8, 'subsample_for_bin': 200000, 'subsample_freq': 0, 'metric': 'mae', 'verbose': -1}
Initialized XGBoost (xgb) with params: {'objective': 'reg:squarederror', 'base_score': None, 'booster': None, 'callbacks': None, 'colsample_bylevel': None, 'colsample_bynode': None, 'colsample_bytree': 0.8, 'device': None, 'early_stopping_rounds': None, 'enable_categorical': False, 'eval_metric': 'rmse', 'feature_types': None, 'feature_weights': None, 'gamma': 0, 'grow_policy': None, 'importance_type': None, 'interaction_constraints': None, 'learning_rate': 0.1, 'max_bin': None, 'max_cat_threshold': None, 'max_cat_to_onehot': None, 'max_delta_step': None, 'max_depth': 3, 'max_leaves': None, 'min_child_weight': None, 'missing': nan, 'monotone_constraints': None, 'multi_strategy': None, 'n_estimators': 100, 'n_jobs': -1, 'num_parallel_tree': None, 'random_state': 42, 'reg_alpha': 0, 'reg_lambda': 1, 'sampling_method': None, 'scale_pos_weight': None, 'subsample': 0.8, 'tree_method': 'hist', 'validate_parameters': None, 'verbosity': None}
Fitting 2 folds for each of 5 candidates, totalling 10 fits
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/rf/fold_1/best_params.json
Calculated Metrics: R2=0.7165, RMSE=0.1605, MAE=0.1000
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/rf/fold_1/metrics.json
Predictions saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/rf/fold_1/predictions.csv (shape: (1848, 2))
Calculating SHAP values for Random Forest using SHAP Explainer...
SHAP calculation took 61.98 seconds.
--- Saving SHAP results for Fold 1 ---
SHAP values saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/rf/fold_1/shap_values_fold_1.npy
X_explain saved to (CSV): /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/rf/fold_1/X_explain_fold_1.csv
SHAP expected value saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/rf/fold_1/shap_expected_value_fold_1.joblib
SHAP dot plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/rf/fold_1/shap_summary_dot_fold_1.png
SHAP bar plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/rf/fold_1/shap_summary_bar_fold_1.png
--- SHAP saving completed for Fold 1 ---
Fitting 2 folds for each of 5 candidates, totalling 10 fits
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/rf/fold_2/best_params.json
Calculated Metrics: R2=0.6946, RMSE=0.1691, MAE=0.0988
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/rf/fold_2/metrics.json
Predictions saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/rf/fold_2/predictions.csv (shape: (1799, 2))
Calculating SHAP values for Random Forest using SHAP Explainer...
SHAP calculation took 16.41 seconds.
--- Saving SHAP results for Fold 2 ---
SHAP values saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/rf/fold_2/shap_values_fold_2.npy
X_explain saved to (CSV): /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/rf/fold_2/X_explain_fold_2.csv
SHAP expected value saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/rf/fold_2/shap_expected_value_fold_2.joblib
SHAP dot plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/rf/fold_2/shap_summary_dot_fold_2.png
SHAP bar plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/rf/fold_2/shap_summary_bar_fold_2.png
--- SHAP saving completed for Fold 2 ---
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/rf/metrics_summary.json

--- Analyzing Global SHAP for Model: rf ---
Loading data from fold_1...
Loading data from fold_2...
Loaded SHAP data from 2 folds.
Combined SHAP values shape: (3647, 63)
Combined X_explain shape: (3647, 63)
Combined SHAP data saved to (CSV for X_explain): /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/rf/combined_shap
Global SHAP feature importance saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/rf/combined_shap/global_shap_feature_importance.csv

Top 10 Features by Global Mean Absolute SHAP:
              feature  mean_abs_shap
0  interface_plddt_HL       0.016134
1             pdockq2       0.015779
2     avg_model_plddt       0.015736
3   avg_interface_pae       0.014086
4              iptm_A       0.013897
5  chain_pair_iptm_AL       0.013829
6  chain_pair_iptm_AH       0.012421
7    interface_pae_AH       0.011880
8              iptm_H       0.011335
9          pdockq2_AH       0.009853
Combined SHAP dot plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/rf/combined_shap/combined_shap_summary_dot.png
Combined SHAP bar plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/rf/combined_shap/combined_shap_summary_bar.png
--- Global SHAP analysis completed for: rf ---
Fitting 2 folds for each of 5 candidates, totalling 10 fits
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lgbm/fold_1/best_params.json
Calculated Metrics: R2=0.7093, RMSE=0.1625, MAE=0.0963
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lgbm/fold_1/metrics.json
Predictions saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lgbm/fold_1/predictions.csv (shape: (1848, 2))
Calculating SHAP values for LightGBM using SHAP Explainer...
SHAP calculation took 1.57 seconds.
--- Saving SHAP results for Fold 1 ---
SHAP values saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lgbm/fold_1/shap_values_fold_1.npy
X_explain saved to (CSV): /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lgbm/fold_1/X_explain_fold_1.csv
SHAP expected value saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lgbm/fold_1/shap_expected_value_fold_1.joblib
SHAP dot plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lgbm/fold_1/shap_summary_dot_fold_1.png
SHAP bar plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lgbm/fold_1/shap_summary_bar_fold_1.png
--- SHAP saving completed for Fold 1 ---
Fitting 2 folds for each of 5 candidates, totalling 10 fits
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lgbm/fold_2/best_params.json
Calculated Metrics: R2=0.6951, RMSE=0.1690, MAE=0.0975
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lgbm/fold_2/metrics.json
Predictions saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lgbm/fold_2/predictions.csv (shape: (1799, 2))
Calculating SHAP values for LightGBM using SHAP Explainer...
SHAP calculation took 0.92 seconds.
--- Saving SHAP results for Fold 2 ---
SHAP values saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lgbm/fold_2/shap_values_fold_2.npy
X_explain saved to (CSV): /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lgbm/fold_2/X_explain_fold_2.csv
SHAP expected value saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lgbm/fold_2/shap_expected_value_fold_2.joblib
SHAP dot plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lgbm/fold_2/shap_summary_dot_fold_2.png
SHAP bar plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lgbm/fold_2/shap_summary_bar_fold_2.png
--- SHAP saving completed for Fold 2 ---
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lgbm/metrics_summary.json

--- Analyzing Global SHAP for Model: lgbm ---
Loading data from fold_1...
Loading data from fold_2...
Loaded SHAP data from 2 folds.
Combined SHAP values shape: (3647, 63)
Combined X_explain shape: (3647, 63)
Combined SHAP data saved to (CSV for X_explain): /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lgbm/combined_shap
Global SHAP feature importance saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lgbm/combined_shap/global_shap_feature_importance.csv

Top 10 Features by Global Mean Absolute SHAP:
                 feature  mean_abs_shap
0        avg_model_plddt       0.068984
1     chain_pair_iptm_AL       0.045786
2  chain_pair_pae_min_AL       0.025723
3         query_avg_RMSD       0.023605
4         model_avg_RMSD       0.014373
5                 iptm_L       0.013576
6     interface_plddt_HL       0.009940
7      scaled_model_RMSD       0.009818
8            chain_pae_L       0.009536
9       interface_pae_AL       0.006527
Combined SHAP dot plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lgbm/combined_shap/combined_shap_summary_dot.png
Combined SHAP bar plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lgbm/combined_shap/combined_shap_summary_bar.png
--- Global SHAP analysis completed for: lgbm ---
Fitting 2 folds for each of 5 candidates, totalling 10 fits
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/xgb/fold_1/best_params.json
Calculated Metrics: R2=0.7215, RMSE=0.1591, MAE=0.0972
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/xgb/fold_1/metrics.json
Predictions saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/xgb/fold_1/predictions.csv (shape: (1848, 2))
Calculating SHAP values for XGBoost using SHAP Explainer...
SHAP calculation took 0.11 seconds.
--- Saving SHAP results for Fold 1 ---
SHAP values saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/xgb/fold_1/shap_values_fold_1.npy
X_explain saved to (CSV): /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/xgb/fold_1/X_explain_fold_1.csv
SHAP expected value saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/xgb/fold_1/shap_expected_value_fold_1.joblib
SHAP dot plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/xgb/fold_1/shap_summary_dot_fold_1.png
SHAP bar plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/xgb/fold_1/shap_summary_bar_fold_1.png
--- SHAP saving completed for Fold 1 ---
Fitting 2 folds for each of 5 candidates, totalling 10 fits
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/xgb/fold_2/best_params.json
Calculated Metrics: R2=0.6908, RMSE=0.1702, MAE=0.1062
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/xgb/fold_2/metrics.json
Predictions saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/xgb/fold_2/predictions.csv (shape: (1799, 2))
Calculating SHAP values for XGBoost using SHAP Explainer...
SHAP calculation took 0.02 seconds.
--- Saving SHAP results for Fold 2 ---
SHAP values saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/xgb/fold_2/shap_values_fold_2.npy
X_explain saved to (CSV): /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/xgb/fold_2/X_explain_fold_2.csv
SHAP expected value saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/xgb/fold_2/shap_expected_value_fold_2.joblib
SHAP dot plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/xgb/fold_2/shap_summary_dot_fold_2.png
SHAP bar plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/xgb/fold_2/shap_summary_bar_fold_2.png
--- SHAP saving completed for Fold 2 ---
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/xgb/metrics_summary.json

--- Analyzing Global SHAP for Model: xgb ---
Loading data from fold_1...
Loading data from fold_2...
Loaded SHAP data from 2 folds.
Combined SHAP values shape: (3647, 63)
Combined X_explain shape: (3647, 63)
Combined SHAP data saved to (CSV for X_explain): /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/xgb/combined_shap
Global SHAP feature importance saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/xgb/combined_shap/global_shap_feature_importance.csv

Top 10 Features by Global Mean Absolute SHAP:
              feature  mean_abs_shap
0     avg_model_plddt       0.050639
1  interface_plddt_HL       0.038818
2    interface_pae_AH       0.023045
3              iptm_A       0.021340
4             pdockq2       0.021160
5  interface_plddt_AH       0.015465
6      query_avg_RMSD       0.013339
7  chain_pair_iptm_AL       0.008318
8    interface_pae_AL       0.007879
9   chain_pair_pae_AH       0.007700
Combined SHAP dot plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/xgb/combined_shap/combined_shap_summary_dot.png
Combined SHAP bar plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/xgb/combined_shap/combined_shap_summary_bar.png
--- Global SHAP analysis completed for: xgb ---
Fitting 2 folds for each of 2 candidates, totalling 4 fits
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lr/fold_1/best_params.json
Calculated Metrics: R2=-0.0815, RMSE=0.3135, MAE=0.2572
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lr/fold_1/metrics.json
Predictions saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lr/fold_1/predictions.csv (shape: (1848, 2))
--- Saving SHAP results for Fold 1 ---
SHAP values saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lr/fold_1/shap_values_fold_1.npy
X_explain saved to (CSV): /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lr/fold_1/X_explain_fold_1.csv
SHAP expected value saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lr/fold_1/shap_expected_value_fold_1.joblib
SHAP dot plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lr/fold_1/shap_summary_dot_fold_1.png
SHAP bar plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lr/fold_1/shap_summary_bar_fold_1.png
--- SHAP saving completed for Fold 1 ---
Fitting 2 folds for each of 2 candidates, totalling 4 fits
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lr/fold_2/best_params.json
Calculated Metrics: R2=-122731591.7012, RMSE=3390.6486, MAE=80.0944
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lr/fold_2/metrics.json
Fitting 2 folds for each of 5 candidates, totalling 10 fits
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/ridge/fold_1/best_params.json
Calculated Metrics: R2=0.0265, RMSE=0.2975, MAE=0.2569
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/ridge/fold_1/metrics.json
Predictions saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/ridge/fold_1/predictions.csv (shape: (1848, 2))
--- Saving SHAP results for Fold 1 ---
SHAP values saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/ridge/fold_1/shap_values_fold_1.npy
X_explain saved to (CSV): /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/ridge/fold_1/X_explain_fold_1.csv
SHAP expected value saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/ridge/fold_1/shap_expected_value_fold_1.joblib
SHAP dot plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/ridge/fold_1/shap_summary_dot_fold_1.png
SHAP bar plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/ridge/fold_1/shap_summary_bar_fold_1.png
--- SHAP saving completed for Fold 1 ---
Fitting 2 folds for each of 5 candidates, totalling 10 fits
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/ridge/fold_2/best_params.json
Calculated Metrics: R2=-17191824.4881, RMSE=1269.0116, MAE=30.0420
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/ridge/fold_2/metrics.json
Fitting 2 folds for each of 5 candidates, totalling 10 fits
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lasso/fold_1/best_params.json
Calculated Metrics: R2=0.7144, RMSE=0.1611, MAE=0.1157
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lasso/fold_1/metrics.json
Predictions saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lasso/fold_1/predictions.csv (shape: (1848, 2))
--- Saving SHAP results for Fold 1 ---
SHAP values saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lasso/fold_1/shap_values_fold_1.npy
X_explain saved to (CSV): /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lasso/fold_1/X_explain_fold_1.csv
SHAP expected value saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lasso/fold_1/shap_expected_value_fold_1.joblib
SHAP dot plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lasso/fold_1/shap_summary_dot_fold_1.png
SHAP bar plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lasso/fold_1/shap_summary_bar_fold_1.png
--- SHAP saving completed for Fold 1 ---
Fitting 2 folds for each of 5 candidates, totalling 10 fits
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lasso/fold_2/best_params.json
Calculated Metrics: R2=0.7198, RMSE=0.1620, MAE=0.1053
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lasso/fold_2/metrics.json
Predictions saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lasso/fold_2/predictions.csv (shape: (1799, 2))
--- Saving SHAP results for Fold 2 ---
SHAP values saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lasso/fold_2/shap_values_fold_2.npy
X_explain saved to (CSV): /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lasso/fold_2/X_explain_fold_2.csv
SHAP expected value saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lasso/fold_2/shap_expected_value_fold_2.joblib
SHAP dot plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lasso/fold_2/shap_summary_dot_fold_2.png
SHAP bar plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lasso/fold_2/shap_summary_bar_fold_2.png
--- SHAP saving completed for Fold 2 ---
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lasso/metrics_summary.json

--- Analyzing Global SHAP for Model: lasso ---
Loading data from fold_1...
Loading data from fold_2...
Loaded SHAP data from 2 folds.
Combined SHAP values shape: (3647, 63)
Combined X_explain shape: (3647, 63)
Combined SHAP data saved to (CSV for X_explain): /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lasso/combined_shap
Global SHAP feature importance saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lasso/combined_shap/global_shap_feature_importance.csv

Top 10 Features by Global Mean Absolute SHAP:
                 feature  mean_abs_shap
0            contacts_AH       9.644723
1            contacts_AL       8.109449
2        avg_model_plddt       1.929074
3          chain_plddt_L       1.195703
4          chain_plddt_A       0.918489
5         query_avg_RMSD       0.268621
6  chain_pair_pae_min_AH       0.258280
7            chain_pae_A       0.093552
8      scaled_query_RMSD       0.053181
9  chain_pair_pae_min_AL       0.043380
Combined SHAP dot plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lasso/combined_shap/combined_shap_summary_dot.png
Combined SHAP bar plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/lasso/combined_shap/combined_shap_summary_bar.png
--- Global SHAP analysis completed for: lasso ---
Fitting 2 folds for each of 5 candidates, totalling 10 fits
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/en/fold_1/best_params.json
Calculated Metrics: R2=0.7984, RMSE=0.1354, MAE=0.0995
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/en/fold_1/metrics.json
Predictions saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/en/fold_1/predictions.csv (shape: (1848, 2))
--- Saving SHAP results for Fold 1 ---
SHAP values saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/en/fold_1/shap_values_fold_1.npy
X_explain saved to (CSV): /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/en/fold_1/X_explain_fold_1.csv
SHAP expected value saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/en/fold_1/shap_expected_value_fold_1.joblib
SHAP dot plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/en/fold_1/shap_summary_dot_fold_1.png
SHAP bar plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/en/fold_1/shap_summary_bar_fold_1.png
--- SHAP saving completed for Fold 1 ---
Fitting 2 folds for each of 5 candidates, totalling 10 fits
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/en/fold_2/best_params.json
Calculated Metrics: R2=0.7242, RMSE=0.1607, MAE=0.1091
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/en/fold_2/metrics.json
Predictions saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/en/fold_2/predictions.csv (shape: (1799, 2))
--- Saving SHAP results for Fold 2 ---
SHAP values saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/en/fold_2/shap_values_fold_2.npy
X_explain saved to (CSV): /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/en/fold_2/X_explain_fold_2.csv
SHAP expected value saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/en/fold_2/shap_expected_value_fold_2.joblib
SHAP dot plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/en/fold_2/shap_summary_dot_fold_2.png
SHAP bar plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/en/fold_2/shap_summary_bar_fold_2.png
--- SHAP saving completed for Fold 2 ---
Results saved to /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/en/metrics_summary.json

--- Analyzing Global SHAP for Model: en ---
Loading data from fold_1...
Loading data from fold_2...
Loaded SHAP data from 2 folds.
Combined SHAP values shape: (3647, 63)
Combined X_explain shape: (3647, 63)
Combined SHAP data saved to (CSV for X_explain): /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/en/combined_shap
Global SHAP feature importance saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/en/combined_shap/global_shap_feature_importance.csv

Top 10 Features by Global Mean Absolute SHAP:
               feature  mean_abs_shap
0      avg_model_plddt       1.360125
1        chain_plddt_A       0.294916
2  avg_interface_plddt       0.254005
3    chain_pair_pae_AH       0.049756
4    scaled_query_RMSD       0.040508
5   chain_pair_iptm_AL       0.027709
6               iptm_A       0.024718
7   chain_pair_iptm_AH       0.020820
8               iptm_L       0.018063
9           pdockq2_AL       0.015014
Combined SHAP dot plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/en/combined_shap/combined_shap_summary_dot.png
Combined SHAP bar plot saved to: /home/cseomoon/appl/af_analysis-0.1.4/model/regression/results/rg_renewal_test_20250429_023714/en/combined_shap/combined_shap_summary_bar.png
--- Global SHAP analysis completed for: en ---
작업 완료
[INFO] Job completed at: Tue Apr 29 02:41:57 KST 2025
